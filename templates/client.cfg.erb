main_collective = mcollective
collectives = mcollective
libdir = <%= @libdir %>
logger_type = console
loglevel = warn

# Plugins
securityprovider = ssl
plugin.psk = unset

connector = activemq
direct_addressing = 1

# ActiveMQ connector settings:
plugin.activemq.pool.size = 1
plugin.activemq.pool.1.host = <%= @_mqueue['host'] %>
plugin.activemq.pool.1.port = <%= @_mqueue['port'] %>
plugin.activemq.pool.1.user = <%= @_mqueue['user'] %>
plugin.activemq.pool.1.password = <%= @_mqueue['password'] %>
plugin.activemq.pool.1.ssl = 1
plugin.activemq.pool.1.ssl.ca = /root/.mcollective.d/credentials/certs/ca.pem
plugin.activemq.pool.1.ssl.cert = /root/.mcollective.d/credentials/certs/<%= @certname %>.pem
plugin.activemq.pool.1.ssl.key = /root/.mcollective.d/credentials/private_keys/<%= @certname %>.pem
plugin.activemq.pool.1.ssl.fallback = 0

# SSL plugin settings:
plugin.ssl_server_public = /root/.mcollective.d/credentials/certs/mcollective-servers.pem
plugin.ssl_client_private = /root/.mcollective.d/credentials/private_keys/<%= @certname %>.pem
plugin.ssl_client_public = /root/.mcollective.d/credentials/certs/<%= @certname %>.pem

# Interface settings (optional):
# ------------------------------

# Discovery settings:

default_discovery_method = mc
# default_discovery_options = /etc/mcollective/nodes.txt

# Performance settings:

direct_addressing_threshold = 10
ttl = 60
discovery_timeout = 2
publish_timeout = 2
threaded = false

# Miscellaneous settings:

color = 1
rpclimitmethod = first
